{% extends 'base.html' %}

{% block content %}
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">ITD112</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Project 1 <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'project2' %}">Project 2</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'project3' %}">Project 3</a>
        </li>
      </ul>
      <span class="navbar-text">
        Jo Christian Apas
      </span>
      
    </div>
  </nav>

  <div class="main-box">
    <div class="contents">
      <p>A dataset containing confirmed dengue cases and deaths from the Department 
        of Health-Epidemiology Bureau (DOH) in the Philippines visualized using a Pie Chart.</p>
    </div>

    <div class="contents-chart">
      <div class="row container" >
        <div class="container" style="width: 100%; height: 50%; ">
            <canvas id="pie-chart"></canvas>
        </div>
      </div>

    <!-- <button class="btn"> <a href="{% url 'index' %}"> GO BACK</a></button> -->

      <script>
        var colorArray = [
        '#dd0453', '#fdfd05', '#66E64D', '#0660e7', '#9900B3',
        '#d07201', '#14b300','#06d2a6','#f8061a','#c45850',
        '#66664D', '#d6d6d7', '#76008f', '#4DB3FF', '#1AB399',
        '#ec92d1', '#33991A', '#ba8383', '#B3B31A', '#00E680',
        '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',
        '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];
    
        new Chart(document.getElementById("pie-chart"), {
          type: 'pie',
          data: {
            labels:  {{ listkeys | safe }},
    
            datasets: [{
              label: "",
              backgroundColor: colorArray,
              data: {{ listvalues | safe }},
    
            }]
          },
          options:
          {
            title: {
              display: true,
              text: 'DOH Dengue Data (2016-2022)'
            }
          }
        });

      </script>
    </div>
  </div>
{% endblock %}